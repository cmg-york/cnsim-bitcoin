# Lightweight test configuration - 2 confirmations before attack
# Test for malicious behavior with counter-based confirmation delay

# Simulation-wide parameters
sim.numSimulations = 1
sim.numSimulations.From = 1
sim.numSimulations.To = 1
sim.maxNodes = 4
sim.maxTransactions = 100
sim.terminate.atTime = 600000
sim.output.directory = ./test-results
sim.experimentalLabel = test-2conf

# Reporter parameters - minimal reporting for lightweight test
reporter.reportEvents = true
reporter.reportTransactions = false
reporter.reportNodes = false
reporter.reportNetEvents = false
reporter.reportBeliefs = false
reporter.reportBeliefsShort = false
reporter.reportBlockEvents = true
reporter.reportStructureEvents = true
reporter.beliefReportInterval = 60000
reporter.beliefReportOffset = 120000
reporter.reportingWindow = 100000

# Network parameters - 3 honest + 1 malicious (25% attack power)
net.sampler.seed = 123
net.sampler.seed.updateSeed = false
net.numOfNodes = 4
net.numOfHonestNodes = 3
net.numOfMaliciousNodes = 1
net.throughputMean = 25000000f
net.throughputSD = 2500000f
net.propagationTime = 10

# Workload Parameters - lightweight
workload.sampler.seed = 321
workload.sampler.seed.updateSeed = false
workload.lambda = 6.494f
workload.numTransactions = 100
workload.sampleTransaction = {10}
workload.txSizeMean = 225f
workload.txSizeSD = 120.9471f
workload.txFeeValueMean = 3619.23f
workload.txFeeValueSD = 369.19f

# Attack Related - target transaction 10, 2 confirmations
workload.targetTransaction = 10
attack.requiredConfirmations = 2
attack.minChainLength = 2
attack.maxChainLength = 15

# Node Parameters - malicious node with 0.25 (25%) of network power
node.sampler.seed = {444,222}
node.sampler.updateSeedFlags = {false,false}
node.sampler.seedUpdateTimes = {}
node.createMaliciousNode = true
node.maliciousPowerByRatio = true
node.maliciousRatio = 0.25

node.electricPowerMean = 1375f
node.electricPowerSD = 20f
node.electricCostMean = 0.1f
node.electricCostSD = 0.05f

# Hashpower Related - reduced difficulty for faster testing
pow.difficulty = 4.3933890848757156E20
pow.hashPowerMean = 2.35597310021E+10
pow.hashPowerSD = 2.35597310021E+9

# Blockchain Specific Parameters
bitcoin.maxBlockSize = 1000000
bitcoin.minSizeToMine = 100
bitcoin.minValueToMine = 1

# Conflict Registry Parameters
workload.hasConflicts = true
workload.conflicts.dispersion = 0.1
workload.conflicts.likelihood = 0.05
reporter.reportAttackEvents = true
